{% if page.url == "/" or page.url == "/404.html" %}
{% assign is_home = true %}
{% else %}
{% assign is_home = false %}
{% endif %}
<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}" class="dark-gray">

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    {% if jekyll.environment == 'production' and site.google_analytics %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', '{{ site.google_analytics }}');
    </script>

    {% endif %}
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/item-series.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/heatmap.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% feed_meta %}
    <link rel="stylesheet" href="{{ "/static/app.css" | relative_url }}">
    <link rel="shortcut icon" href="static/radi.ico" type="image/x-icon">
    <link rel="icon" href="static/radi.ico" type="image/x-icon">
    {% seo %}
</head>

<body>
    <main class="measure-wide center ph3 pt5 pb6">
        {% if is_home %}
        <h1 class="mt0 mb4">
            {% else %}
            <h2 class="mt0 mb5">
                {% endif %}
                <a href="{{ "/" | relative_url }}" class="no-underline bg-{{ site.brand_color }}">
                    {{site.title}}
                </a>
                {% if is_home %}
        </h1>
        {% else %}
        </h2>
        {% endif %}
        {% if is_home %}
        <section class="pv2">
            {{ content }}
        </section>
        {% else %}
        <section class="pv2">
            <h1 class="mt0 mb1">{{page.title}}</h1>
            {% if page.date %}
            <p class="silver mt0">
                <time datetime="{{ page.date | date_to_xmlschema }}">
                    {{page.date | date: site.date_format }}
                </time>
            </p>
            {% endif %}
            <p class="twitter-share-button-wrapper">
                <a class="twitter-share-button" href="https://twitter.com/intent/tweet" data-size="large" data-via="{{ site.twitter.username }}">
                    Tweet</a>
            </p>
            {{content}}
            {% if page.date %}
            <p class="silver">
                <time datetime="{{ page.date | date_to_xmlschema }}">
                    {{page.date | date: site.date_format }}
                </time>
            </p>
            {% endif %}
        </section>
        <hr />
        <section class="pv2">
            {% assign home = site.pages | where:"url","/" %}
            {{ home[0].content | markdownify }}
        </section>
        {% endif %}
        {% if site.posts.size > 0 %}
        <hr />
        <section class="pv2">
            <ul class="list pl0">
                {% if is_home %}
                {% for post in site.posts %}
                {% if forloop.index0 == site.num_posts_visible_initially %}
                <li class="mt0 mb4">
                    <h4 class="ma0">
                        <a class="bg-{{ site.brand_color }} pv2 ph3 dib ba b--black-20 br3 no-underline js-more" href="#">
                            View All
                        </a>
                    </h4>
                </li>
                {% endif %}
                <li class="mt0 mb4 {% if forloop.index0 >= site.num_posts_visible_initially %}dn js-hidden{% endif %}">
                    <span class="silver db mb1">{{ post.date | date: site.date_format }}</span>
                    <h3 class="ma0">
                        <a class=" no-underline" href="{{ post.url | relative_url }}">{{ post.title | escape }}</a>
                    </h3>
                </li>
                {% endfor %}
                {% else %}
                {% for post in site.posts limit:site.num_posts_visible_initially %}
                <li class="mt0 mb4">
                    <span class="silver db mb1">{{ post.date | date: site.date_format }}</span>
                    <h3 class="ma0">
                        <a class=" no-underline" href="{{ post.url | relative_url }}">{{ post.title | escape }}</a>
                    </h3>
                </li>
                {% endfor %}
                <li class="pt4 mt0 mb4">
                    <h2 class="ma0">
                        <a href="{{ "/" | relative_url }}" class="no-underline bg-{{ site.brand_color }}">
                            {{site.title}}
                        </a>
                    </h2>
                </li>
                {% endif %}
            </ul>
        </section>
        {% endif %}
    </main>

    <script>
        var moreLink = document.querySelector('.js-more')
        if (moreLink) {
            document.querySelector('.js-more').addEventListener('click', function(e) {
                e.preventDefault()
                e.target.classList.add('dn')
                e.target.classList.remove('dib')
                document.querySelectorAll('.js-hidden').forEach(function(elt) {
                    elt.classList.remove('dn')
                })
            })
        }
    </script>
    <script type="text/javascript">
        var color_dict = {
            "UDC": "#66be29",
            'PS': '#e52935',
            'PLR': '#375191',
            'VERTS': '#84b414',
            'PDC': '#f6a12b',
            'PVL': '#a5c840',
            'PVL_secondary': '#1a1915'
        };

        function getPointCategoryName(point, dimension) {
            var series = point.series,
                isY = dimension === 'y',
                axis = series[isY ? 'yAxis' : 'xAxis'];
            return axis.categories[point[isY ? 'y' : 'x']];
        }

        Highcharts.chart('heatmap', {

            chart: {
                type: 'heatmap',
                marginTop: 40,
                marginBottom: 80,
                plotBorderWidth: 1
            },


            title: {
                text: 'Cosine similarity between the parties (x10,000)'
            },

            xAxis: {
                categories: ['VERTS', 'PS', 'PDC', 'PVL', 'PLR', 'UDC']
            },

            yAxis: {
                categories: ['VERTS', 'PS', 'PDC', 'PVL', 'PLR', 'UDC'],
                title: null,
                reversed: true
            },

            accessibility: {
                point: {
                    descriptionFormatter: function(point) {
                        var ix = point.index + 1,
                            xName = getPointCategoryName(point, 'x'),
                            yName = getPointCategoryName(point, 'y'),
                            val = point.value;
                        return ix + '. ' + xName + ' sales ' + yName + ', ' + val + '.';
                    }
                }
            },

            colorAxis: {
                min: 0,
                minColor: '#FFFFFF',
                maxColor: Highcharts.getOptions().colors[0]
            },

            legend: {
                align: 'right',
                layout: 'vertical',
                margin: 0,
                verticalAlign: 'top',
                y: 25,
                symbolHeight: 280
            },

            tooltip: {
                formatter: function() {
                    return '<b>' + getPointCategoryName(this.point, 'x') + '</b> has <b>' +
                        this.point.value + '</b><br> cosine similarity<br> value with <b>' + getPointCategoryName(this.point, 'y') + '</b>';
                }
            },

            credits: {
                text: 'Note: 0 means most similar and high values mean most different',
                position: {
                    align: 'center',
                    y: -30
                },
                style: {
                    fontSize: '10pt'
                }
            },

            series: [{
                name: 'Sales per employee',
                borderWidth: 1,
                data: [
                    [0, 0, 0.00],
                    [0, 1, 0.86],
                    [0, 2, 3.03],
                    [0, 3, 0.38],
                    [0, 4, 1.56],
                    [0, 5, 4.05],
                    [1, 0, 0.86],
                    [1, 1, 0.00],
                    [1, 2, 0.86],
                    [1, 3, 0.12],
                    [1, 4, 0.11],
                    [1, 5, 1.55],
                    [2, 0, 3.03],
                    [2, 1, 0.86],
                    [2, 2, 0.00],
                    [2, 3, 1.55],
                    [2, 4, 0.62],
                    [2, 5, 2.06],
                    [3, 0, 0.38],
                    [3, 1, 0.12],
                    [3, 2, 1.55],
                    [3, 3, 0.00],
                    [3, 4, 0.41],
                    [3, 5, 2.10],
                    [4, 0, 1.56],
                    [4, 1, 0.11],
                    [4, 2, 0.62],
                    [4, 3, 0.41],
                    [4, 4, 0.00],
                    [4, 5, 0.96],
                    [5, 0, 4.05],
                    [5, 1, 1.55],
                    [5, 2, 2.06],
                    [5, 3, 2.10],
                    [5, 4, 0.96],
                    [5, 5, 0.00]
                ],
                dataLabels: {
                    enabled: true,
                    color: '#000000'
                }
            }],

            responsive: {
                rules: [{
                    condition: {
                        maxWidth: 500
                    },
                    chartOptions: {
                        yAxis: {
                            labels: {
                                formatter: function() {
                                    return this.value.charAt(0);
                                }
                            }
                        }
                    }
                }]
            }

        });

        var topicsByYear = Highcharts.chart('topicsByYear', {
            chart: {
                type: 'area'
            },
            title: {
                text: 'Evolution of the topics over the years for all the parties in their tweets'
            },
            xAxis: {
                categories: ['2015', '2016', '2017', '2018', '2019'],
                tickmarkPlacement: 'on',
                text: 'Years',
            },

            colors: ["#90ed7d", "#434348", "#7cb5ec", "#f7a35c", "#8085e9", "#f15c80", "#e4d354", "#2b908f", "#f45b5b", "#91e8e1", "#B58D51", "#BF5436", "#305DB0", "#EBD2CC"],

            yAxis: {
                labels: {
                    format: '{value}%'
                },
                title: {
                    enabled: false
                }
            },
            tooltip: {
                pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b> ({point.y:,.0f} occurences)<br/>',
                split: true
            },
            plotOptions: {
                area: {
                    stacking: 'percent',
                    lineColor: '#ffffff',
                    lineWidth: 1,
                    marker: {
                        lineWidth: 1,
                        lineColor: '#ffffff'
                    },
                    accessibility: {
                        pointDescriptionFormatter: function(point) {
                            function round(x) {
                                return Math.round(x * 100) / 100;
                            }
                            return (point.index + 1) + ', ' + point.category + ', ' +
                                point.y + ' millions, ' + round(point.percentage) + '%, ' +
                                point.series.name;
                        }
                    }
                }
            },
            series: [{
                name: 'Climate',
                data: [100, 25, 118, 333, 2121]
            }, {
                name: 'Immigration',
                data: [257, 223, 134, 275, 176]
            }, {
                name: 'Safety',
                data: [104, 105, 114, 143, 222]
            }, {
                name: 'Freedom',
                data: [138, 99, 109, 142, 236]
            }, {
                name: 'Equality',
                data: [94, 98, 96, 292, 386]
            }, {
                name: 'Economy',
                data: [159, 157, 164, 274, 513]
            }, {
                name: 'Work',
                data: [232, 257, 331, 614, 677]
            }, {
                name: 'Women',
                data: [72, 80, 205, 241, 497]
            }, {
                name: 'Digital',
                data: [28, 37, 87, 132, 105]
            }, {
                name: 'Family',
                data: [215, 165, 110, 170, 276]
            }, {
                name: 'AVS',
                data: [45, 137, 263, 86, 179]
            }, {
                name: 'Health',
                data: [51, 43, 104, 246, 382]
            }, {
                name: 'Europe',
                data: [157, 141, 143, 322, 499]
            }, {
                name: 'Army',
                data: [57, 37, 68, 40, 40]
            }]

        });

        var topicsByParty = Highcharts.chart('topicsByParty', {
            chart: {
                type: 'column'
            },
            title: {
                text: 'Which topics do parties talk most about ?'
            },
            xAxis: {
                categories: ['VERTS', 'PS', 'PDC', 'PVL', 'PLR', 'UDC']
            },
            yAxis: {
                min: 0,
                title: {
                    text: '% of mentioned topics'
                }
            },
            tooltip: {
                pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',
                shared: true
            },
            plotOptions: {
                column: {
                    stacking: 'percent'
                }
            },
            colors: ["#90ed7d", "#434348", "#7cb5ec", "#f7a35c", "#8085e9", "#f15c80", "#e4d354", "#2b908f", "#f45b5b", "#91e8e1", "#B58D51", "#BF5436", "#305DB0", "#EBD2CC"],
            series: [{
                name: 'Climate',
                data: [1685, 502, 73, 221, 223, 31]
            }, {
                name: 'Immigration',
                data: [115, 485, 139, 28, 200, 185]
            }, {
                name: 'Safety',
                data: [86, 307, 120, 45, 130, 53]
            }, {
                name: 'Freedom',
                data: [70, 232, 79, 46, 245, 112]
            }, {
                name: 'Equality',
                data: [219, 613, 69, 32, 74, 5]
            }, {
                name: 'Economy',
                data: [355, 343, 175, 106, 304, 56]
            }, {
                name: 'Work',
                data: [225, 1304, 227, 73, 409, 60]
            }, {
                name: 'Women',
                data: [189, 662, 87, 55, 112, 22]
            }, {
                name: 'Digital',
                data: [52, 111, 46, 7, 183, 0]
            }, {
                name: 'Family',
                data: [112, 456, 263, 64, 138, 21]
            }, {
                name: 'AVS',
                data: [27, 400, 150, 13, 113, 23]
            }, {
                name: 'Health',
                data: [88, 386, 284, 18, 125, 10]
            }, {
                name: 'Europe',
                data: [157, 615, 137, 104, 194, 129]
            }, {
                name: 'Army',
                data: [57, 131, 103, 8, 29, 8]
            }]
        });

        var electionsEvolution = Highcharts.chart('electionsEvolution', {
            chart: {
                type: 'column'
            },
            title: {
                text: 'Evolution of the elections results between 2015 and 2019'
            },
            xAxis: {
                categories: ['VERTS', 'PS', 'PDC', 'PVL', 'PLR', 'UDC']
            },
            yAxis: {
                title: {
                    text: '% of votes'
                }
            },
            credits: {
                enabled: false
            },
            series: [{
                name: '2015 elections',
                color: '#e52935',
                data: [{
                        y: 9.42,
                        color: '#84b414'
                    }, {
                        y: 22.28,
                        color: '#e52935'
                    },
                    {
                        y: 19.04,
                        color: '#f6a12b'
                    }, {
                        y: 2.64,
                        color: '#a5c840'
                    },
                    {
                        y: 23.11,
                        color: '#375191'
                    }, {
                        y: 23.51,
                        color: '#66be29'
                    }
                ]
            }, {
                name: '2019 elections',
                color: '#ac2226',
                data: [{
                        y: 19.11,
                        color: '#638710'
                    }, {
                        y: 20.14,
                        color: '#ac2226'
                    },
                    {
                        y: 15.00,
                        color: '#b87920'
                    }, {
                        y: 6.01,
                        color: '#7c9630'
                    },
                    {
                        y: 20.87,
                        color: '#283868'
                    }, {
                        y: 18.86,
                        color: '#498e22'
                    }
                ]
            }, {
                pointPlacement: 0.1,
                name: 'Difference',
                color: 'black',
                data: [+9.69, -2.14, -4.04, +3.37, -2.24, -4.65]
            }]
        });


        var contributorProportions = Highcharts.chart('contributorProportions', {
            chart: {
                renderTo: 'container',
                type: 'pie'
            },
            title: {
                text: 'RTS contributor proportions from 2012-2015 and from 2016-2019'
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    size: 200,
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                    }
                }
            },
            series: [{
                name: '2012 to 2015',
                color: '#e52935',
                center: [200, 100],
                data: [{
                        name: 'UDC',
                        y: 392,
                        color: color_dict['UDC']
                    }, {
                        name: 'PDC',
                        y: 259,
                        color: color_dict['PDC']
                    },
                    {
                        name: 'PS',
                        y: 307,
                        color: color_dict['PS']
                    }, {
                        name: 'PLR',
                        y: 453,
                        color: color_dict['PLR']
                    },
                    {
                        name: 'Verts',
                        y: 126,
                        color: color_dict['VERTS']
                    }, {
                        name: 'Verts Lib',
                        y: 30,
                        color: color_dict['PVL']
                    }
                ]
            }, {
                name: '2016 to 2019',
                color: '#e52935',
                center: [600, 100],
                data: [{
                        name: 'UDC',
                        y: 445,
                        color: color_dict['UDC']
                    }, {
                        name: 'PDC',
                        y: 303,
                        color: color_dict['PDC']
                    },
                    {
                        name: 'PS',
                        y: 577,
                        color: color_dict['PS']
                    }, {
                        name: 'PLR',
                        y: 622,
                        color: color_dict['PLR']
                    },
                    {
                        name: 'Verts',
                        y: 325,
                        color: color_dict['VERTS']
                    }, {
                        name: 'Verts Lib',
                        y: 51,
                        color: color_dict['PVL']
                    }
                ]
            }]
        });


        var gossip = Highcharts.chart('partyGossip', {

            chart: {
                polar: true
            },

            xAxis: {
                categories: ['PLR', 'PS', 'VERTS', 'PVL', 'PDC']
            },


            series: [{
                showInLegend: false,
                type: 'area',
                color: color_dict['UDC'],
                data: [19, 34.883720930232556, 30.232558139534884, 0.0, 15.116279069767442]
            }],

            title: {
                text: 'Which parties does UDC talk most about ?'
            },

            yAxis: {
                min: 0
            }
        });

        $('#All').click(function() {
            topicsByYear.update({
                title: {
                    text: 'Evolution of the topics over the years for all the parties in their tweets'
                },
                series: [{
                    name: 'Climate',
                    data: [100, 25, 118, 333, 2121]
                }, {
                    name: 'Immigration',
                    data: [257, 223, 134, 275, 176]
                }, {
                    name: 'Safety',
                    data: [104, 105, 114, 143, 222]
                }, {
                    name: 'Freedom',
                    data: [138, 99, 109, 142, 236]
                }, {
                    name: 'Equality',
                    data: [94, 98, 96, 292, 386]
                }, {
                    name: 'Economy',
                    data: [159, 157, 164, 274, 513]
                }, {
                    name: 'Work',
                    data: [232, 257, 331, 614, 677]
                }, {
                    name: 'Women',
                    data: [72, 80, 205, 241, 497]
                }, {
                    name: 'Digital',
                    data: [28, 37, 87, 132, 105]
                }, {
                    name: 'Family',
                    data: [215, 165, 110, 170, 276]
                }, {
                    name: 'AVS',
                    data: [45, 137, 263, 86, 179]
                }, {
                    name: 'Health',
                    data: [51, 43, 104, 246, 382]
                }, {
                    name: 'Europe',
                    data: [157, 141, 143, 322, 499]
                }, {
                    name: 'Army',
                    data: [57, 37, 68, 40, 40]
                }]
            });
        });

        $('#UDC').click(function() {
            topicsByYear.update({
                title: {
                    text: 'Evolution of the topics over the years for the UDC in their tweets'
                },
                series: [{
                    name: 'Climate',
                    data: [2, 0, 1, 12, 16]
                }, {
                    name: 'Immigration',
                    data: [41, 33, 8, 36, 48]
                }, {
                    name: 'Safety',
                    data: [10, 7, 2, 1, 30]
                }, {
                    name: 'Freedom',
                    data: [5, 6, 6, 14, 78]
                }, {
                    name: 'Equality',
                    data: [0, 0, 1, 0, 4]
                }, {
                    name: 'Economy',
                    data: [5, 5, 1, 12, 31]
                }, {
                    name: 'Work',
                    data: [4, 8, 4, 8, 35]
                }, {
                    name: 'Women',
                    data: [3, 0, 0, 2, 17]
                }, {
                    name: 'Digital',
                    data: [0, 0, 0, 0, 0]
                }, {
                    name: 'Family',
                    data: [4, 3, 0, 6, 6]
                }, {
                    name: 'AVS',
                    data: [2, 1, 5, 1, 14]
                }, {
                    name: 'Health',
                    data: [0, 0, 0, 0, 10]
                }, {
                    name: 'Europe',
                    data: [6, 2, 4, 22, 95]
                }, {
                    name: 'Army',
                    data: [3, 2, 0, 0, 2]
                }]
            });
        });

        $('#PS').click(function() {
            topicsByYear.update({
                title: {
                    text: 'Evolution of the topics over the years for the PS in their tweets'
                },
                series: [{
                    name: 'Climate',
                    data: [3, 8, 39, 96, 353]
                }, {
                    name: 'Immigration',
                    data: [73, 88, 71, 174, 44]
                }, {
                    name: 'Safety',
                    data: [30, 27, 59, 86, 87]
                }, {
                    name: 'Freedom',
                    data: [31, 30, 45, 57, 36]
                }, {
                    name: 'Equality',
                    data: [55, 70, 77, 198, 180]
                }, {
                    name: 'Economy',
                    data: [29, 35, 64, 113, 81]
                }, {
                    name: 'Work',
                    data: [120, 164, 218, 373, 316]
                }, {
                    name: 'Women',
                    data: [36, 63, 147, 184, 216]
                }, {
                    name: 'Digital',
                    data: [6, 2, 22, 37, 41]
                }, {
                    name: 'Family',
                    data: [85, 62, 69, 92, 112]
                }, {
                    name: 'AVS',
                    data: [22, 62, 180, 56, 71]
                }, {
                    name: 'Health',
                    data: [29, 26, 63, 68, 146]
                }, {
                    name: 'Europe',
                    data: [92, 94, 99, 182, 107]
                }, {
                    name: 'Army',
                    data: [7, 18, 24, 27, 16]
                }]

            });
        });

        $('#PLR').click(function() {
            topicsByYear.update({
                title: {
                    text: 'Evolution of the topics over the years for the PLR in their tweets'
                },
                series: [{
                    name: 'Climate',
                    data: [4, 1, 10, 30, 176]
                }, {
                    name: 'Immigration',
                    data: [55, 55, 23, 33, 26]
                }, {
                    name: 'Safety',
                    data: [23, 37, 21, 24, 20]
                }, {
                    name: 'Freedom',
                    data: [66, 53, 44, 37, 38]
                }, {
                    name: 'Equality',
                    data: [6, 10, 9, 31, 13]
                }, {
                    name: 'Economy',
                    data: [33, 47, 49, 71, 89]
                }, {
                    name: 'Work',
                    data: [52, 50, 58, 124, 96]
                }, {
                    name: 'Women',
                    data: [25, 8, 27, 11, 35]
                }, {
                    name: 'Digital',
                    data: [16, 33, 41, 73, 18]
                }, {
                    name: 'Family',
                    data: [27, 45, 9, 10, 32]
                }, {
                    name: 'AVS',
                    data: [10, 46, 34, 6, 15]
                }, {
                    name: 'Health',
                    data: [0, 7, 6, 55, 43]
                }, {
                    name: 'Europe',
                    data: [31, 24, 14, 43, 67]
                }, {
                    name: 'Army',
                    data: [9, 1, 6, 4, 4]
                }]
            });
        });

        $('#VERTS').click(function() {
            topicsByYear.update({
                title: {
                    text: 'Evolution of the topics over the years for the VERTS in their tweets'
                },
                series: [{
                    name: 'Climate',
                    data: [75, 11, 57, 153, 1365]
                }, {
                    name: 'Immigration',
                    data: [44, 16, 9, 9, 28]
                }, {
                    name: 'Safety',
                    data: [11, 6, 19, 9, 30]
                }, {
                    name: 'Freedom',
                    data: [4, 3, 4, 8, 47]
                }, {
                    name: 'Equality',
                    data: [22, 5, 3, 38, 148]
                }, {
                    name: 'Economy',
                    data: [47, 49, 16, 18, 203]
                }, {
                    name: 'Work',
                    data: [24, 7, 23, 31, 134]
                }, {
                    name: 'Women',
                    data: [4, 1, 5, 20, 156]
                }, {
                    name: 'Digital',
                    data: [4, 1, 19, 2, 24]
                }, {
                    name: 'Family',
                    data: [22, 7, 6, 13, 56]
                }, {
                    name: 'AVS',
                    data: [8, 5, 6, 4, 2]
                }, {
                    name: 'Health',
                    data: [15, 2, 5, 6, 58]
                }, {
                    name: 'Europe',
                    data: [12, 8, 7, 9, 115]
                }, {
                    name: 'Army',
                    data: [10, 3, 7, 6, 11]
                }]
            });
        });

        $('#PDC').click(function() {
            topicsByYear.update({
                title: {
                    text: 'Evolution of the topics over the years for the PDC in their tweets'
                },
                series: [{
                    name: 'Climate',
                    data: [8, 4, 6, 7, 47]
                }, {
                    name: 'Immigration',
                    data: [36, 27, 23, 17, 24]
                }, {
                    name: 'Safety',
                    data: [13, 24, 11, 18, 41]
                }, {
                    name: 'Freedom',
                    data: [19, 6, 9, 24, 12]
                }, {
                    name: 'Equality',
                    data: [10, 12, 4, 19, 19]
                }, {
                    name: 'Economy',
                    data: [16, 12, 28, 48, 64]
                }, {
                    name: 'Work',
                    data: [23, 23, 23, 63, 61]
                }, {
                    name: 'Women',
                    data: [2, 4, 25, 14, 37]
                }, {
                    name: 'Digital',
                    data: [2, 1, 4, 17, 19]
                }, {
                    name: 'Family',
                    data: [60, 40, 23, 45, 41]
                }, {
                    name: 'AVS',
                    data: [3, 20, 37, 14, 73]
                }, {
                    name: 'Health',
                    data: [6, 7, 30, 116, 114]
                }, {
                    name: 'Europe',
                    data: [13, 11, 15, 42, 51]
                }, {
                    name: 'Army',
                    data: [26, 10, 31, 2, 7]
                }]
            });
        });

        $('#PVL').click(function() {
            topicsByYear.update({
                title: {
                    text: 'Evolution of the topics over the years for the PVL in their tweets'
                },
                series: [{
                    name: 'Climate',
                    data: [8, 1, 5, 35, 164]
                }, {
                    name: 'Immigration',
                    data: [8, 4, 0, 6, 6]
                }, {
                    name: 'Safety',
                    data: [17, 4, 2, 5, 14]
                }, {
                    name: 'Freedom',
                    data: [13, 1, 1, 2, 25]
                }, {
                    name: 'Equality',
                    data: [1, 1, 2, 6, 22]
                }, {
                    name: 'Economy',
                    data: [29, 9, 6, 12, 45]
                }, {
                    name: 'Work',
                    data: [9, 5, 5, 15, 35]
                }, {
                    name: 'Women',
                    data: [2, 4, 1, 10, 36]
                }, {
                    name: 'Digital',
                    data: [0, 0, 1, 3, 3]
                }, {
                    name: 'Family',
                    data: [17, 8, 3, 4, 29]
                }, {
                    name: 'AVS',
                    data: [0, 3, 1, 5, 4]
                }, {
                    name: 'Health',
                    data: [2, 1, 0, 1, 11]
                }, {
                    name: 'Europe',
                    data: [3, 2, 4, 24, 64]
                }, {
                    name: 'Army',
                    data: [2, 3, 0, 1, 0]
                }]
            });
        });
        $('#RTS').click(function() {
            topicsByYear.update({
                title: {
                    text: 'Evolution of the topics over the years in RTS broadcasts'
                },
				series: [{
                    name: 'Climate',
                    data: [34, 43, 40, 27, 65]
                }, {
                    name: 'Immigration',
                    data: [0, 0, 0, 0, 0]
                }, {
                    name: 'Safety',
                    data: [18, 40, 44, 30, 28]
                }, {
                    name: 'Freedom',
                    data: [0, 0, 0, 0, 0]
                }, {
                    name: 'Equality',
                    data: [0, 0, 0, 0, 0]
                }, {
                    name: 'Economy',
                    data: [24, 21, 20, 18, 17]
                }, {
                    name: 'Work',
                    data: [0, 0, 0, 0, 0]
                },  {
                    name: 'Women',
                    data: [16, 14, 23, 48, 59]
                }, {
                    name: 'Digital',
                    data: [0, 0, 0, 0, 0]
                }, {
                    name: 'Family',
                    data: [25, 30, 22, 19, 24]
                }, {
                    name: 'AVS',
                    data: [40, 48, 66, 50, 47]
                }, {
                    name: 'Health',
                    data: [15, 21, 29, 36, 32]
                },  {
                    name: 'Europe',
                    data: [3, 2, 4, 24, 64]
                }, {
                    name: 'Army',
                    data: [62, 37, 21, 18, 24]
                }],
				tooltip: {
                pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b> ({point.y:,.0f} occurences)<br/>',
                split: true
				},
				plotOptions: {
					area: {
						stacking: 'percent',
						lineColor: '#ffffff',
						lineWidth: 1,
						marker: {
							lineWidth: 1,
							lineColor: '#ffffff'
						},
						accessibility: {
							pointDescriptionFormatter: function(point) {
								function round(x) {
									return Math.round(x * 100) / 100;
								}
								return (point.index + 1) + ', ' + point.category + ', ' +
									point.y + ' millions, ' + round(point.percentage) + '%, ' +
									point.series.name;
							}
						}
					}
				},
            });
			chart.redraw();
        });
        $('#UDC-1').click(function() {
            gossip.update({
                xAxis: {
                    categories: ['PLR', 'PS', 'VERTS', 'PVL', 'PDC']
                },

                series: [{
                    showInLegend: false,
                    type: 'area',
                    color: color_dict['UDC'],
                    data: [19, 34.883720930232556, 30.232558139534884, 0.0, 15.116279069767442]
                }],

                title: {
                    text: 'Which parties does UDC talk most about ?'
                }
            });
        });

        $('#PS-1').click(function() {
            gossip.update({
                xAxis: {
                    categories: ['UDC', 'PLR', 'VERTS', 'PVL', 'PDC']
                },

                series: [{
                    showInLegend: false,
                    type: 'area',
                    color: color_dict['PS'],
                    data: [84.18079096045197, 4.80225988700565, 7.344632768361582, 0.0, 3.672316384180791]
                }],

                title: {
                    text: 'Which parties does PS talk most about ?'
                }
            });
        });

        $('#PLR-1').click(function() {
            gossip.update({
                xAxis: {
                    categories: ['UDC', 'PS', 'VERTS', 'PVL', 'PDC']
                },

                series: [{
                    showInLegend: false,

                    type: 'area',
                    color: color_dict['PLR'],
                    data: [21.556122448979593, 48.08673469387755, 8.290816326530612, 0.3826530612244898, 21.683673469387756]
                }],

                title: {
                    text: 'Which parties does PLR talk most about ?'
                }
            });
        });

        $('#VERTS-1').click(function() {
            gossip.update({
                xAxis: {
                    categories: ['UDC', 'PS', 'PLR', 'PVL', 'PDC']
                },

                series: [{
                    showInLegend: false,

                    type: 'area',
                    color: color_dict['VERTS'],
                    data: [20.74074074074074, 43.20987654320987, 20.74074074074074, 0.7407407407407407, 14.567901234567902]
                }],

                title: {
                    text: 'Which parties does les VERTS talk most about ?'
                }
            });
        });

        $('#PDC-1').click(function() {
            gossip.update({
                xAxis: {
                    categories: ['UDC', 'PS', 'PLR', 'PVL', 'VERTS']
                },

                series: [{
                    showInLegend: false,

                    type: 'area',
                    color: color_dict['PDC'],
                    data: [31.185567010309278, 34.27835051546392, 21.649484536082475, 0.5154639175257731, 12.371134020618557]
                }],

                title: {
                    text: 'Which parties does PDC talk most about ?'
                }
            });
        });

        $('#PVL-1').click(function() {
            gossip.update({
                xAxis: {
                    categories: ['UDC', 'PS', 'PLR', 'VERTS', 'PDC']
                },

                series: [{
                    showInLegend: false,

                    type: 'area',
                    color: color_dict['PVL'],
                    data: [28.32764505119454, 19.112627986348123, 15.017064846416382, 21.843003412969285, 15.699658703071673]
                }],

                title: {
                    text: 'Which parties does PVL talk most about ?'
                }
            });
        });


        $(function() {
            $('#container').highcharts({
                chart: {
                    type: 'item'
                },

                title: {
                    text: 'Results of the 2019 Swiss federal elections in Romandy'
                },


                legend: {
                    labelFormat: '{name} <span style="opacity: 0.4">{y}</span>'
                },

                series: [{
                    name: 'Representatives',
                    keys: ['name', 'y', 'color', 'label'],
                    data: [
                        ['Les Verts', 10, color_dict['VERTS'], 'VERTS'],
                        ['Parti Socialiste', 12, color_dict['PS'], 'PS'],
                        ['Parti démocrate-chrétien', 7, color_dict['PDC'], 'PDC'],
                        ['Parti vert-libéraux', 3, color_dict['PVL'], 'PVL'],
                        ['Parti libéral-radical', 10, color_dict['PLR'], 'PLR'],
                        ['Union démocratique du centre', 8, color_dict['UDC'], 'UDC'],
                        ['Others', 2, '#000000', 'Others']
                    ],
                    dataLabels: {
                        enabled: true,
                        format: '{point.label}'
                    },

                    // Circular options
                    center: ['50%', '88%'],
                    size: '170%',
                    startAngle: -100,
                    endAngle: 100
                }]

            });
        });

        $("#adaImage").hide();

        $('#ada').click(function() {
            $('#adaImage').show()
        });
    </script>
    <script>
        window.twttr = (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0],
                t = window.twttr || {};
            if (d.getElementById(id)) return t;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js, fjs);

            t._e = [];
            t.ready = function(f) {
                t._e.push(f);
            };

            return t;
        }(document, "script", "twitter-wjs"));
    </script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>

</body>



</html>
